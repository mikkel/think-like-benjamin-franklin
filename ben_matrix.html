<head>
  <title>ben_matrix</title>
</head>

<body>
  <h1>Think Like Ol' Benjamin Franklin</h1>
  <p>
    Benjamin Franklin used a decision matrix to plot out his decisions.  This is a visual way for you to do the same thing.  No math needed.

  </p>
  <p>
    "By failing to prepare you are preparing to fail"
  </p>


  <hr/>
  {{> user_data}}
</body>

<template name="user_data">
  <hr/>
  <hr/>
  {{#each questions}}
    {{> question }}
  {{/each}}
  <input type="button" class="question" data-crud="create" value='+'/>
  <hr/>
  <hr/>
</template>

<template name="question">
  <div id="{{_id}}">
    <h2>
      <input data-crud="update" class="question" value="{{name}}"/>
    </h2>
    <table>
      <thead>
        {{> priorities}}
      </thead>
      <tbody>
        {{> answers }}
      </tbody>
    </table>
    <h3> Your Answer according to Ben: </h3>
    <p>
      {{current_answer.name}}
    </p>
    <table>
      <tbody>
        {{> prioritized_answers }}
      </tbody>
    </table>
  </div>
  <hr/>
</template>

<template name="prioritized_answers">
  {{#each prioritized_answers}}
    {{name}} / {{score}}
  {{/each}}

</template>

<template name="priorities">
  <th>
    <span class="priority">Priorities</span>
    <input type="button" data-crud="create" value="+"/>
  </th>
  {{#each priorities}}
    <th>
      <input type="range" class="priority" min="1" max="100">
      <br>
      <input data-crud="update" class="priority" value="{{name}}" />
      <br>
      <input type="button" data-crud="delete" value="-"/>
      <span>{{value}}</span>
    </th>
  {{/each}}
</template>

<template name="answers">
<tr>
  <th>
    Answers <input type="button" data-crud="create" value="+"/>
  </th>
</tr>
{{#each answers}}
  <tr data-answer="{{_id}}">
    <td>
      <input type="text" data-crud="update" class="answer" value="{{name}}" />
      <input type="button" data-crud-id="{{_id}}" data-crud="delete" value="-"/>
    </td>
    {{{display_answer_priorities}}}
  </tr>
{{/each}}
</template>
